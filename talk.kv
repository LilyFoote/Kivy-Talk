#:kivy 1.7.1
#:import KivyLexer kivy.extras.highlight.KivyLexer
#:import FadeTransition kivy.uix.screenmanager.FadeTransition

<KivyCode@CodeInput>:
    lexer: KivyLexer()
    font_size: '30pt'

<CodeInput>:
    font_size: '25pt'

<TitleLabel@Label>:
    font_size: '50pt'

<SlideLabel@Label>:
    font_size: '40pt'
    text_size: self.size
    valign: 'middle'
    halign: 'center'
    size_hint_x: 0.8
    pos_hint: {'center_x': 0.5}

ScreenManager:
    transition: FadeTransition()
    Slide:
        name: 'Kivy'
        Label:
            text: 'Kivy'
            font_size: '80pt'

    Slide:
        name: 'Intro'
        BoxLayout:
            orientation: 'vertical'
            TitleLabel:
                text: 'What is Kivy?'
            SlideLabel:
                text: 'Kivy is a Python library for creating touchscreen Apps.'
            SlideLabel:
                text: 'It is cross-platform, supporting Linux, Mac, Windows, Android, IOS and Raspberry Pi.'
            SlideLabel:
                text: 'Kivy uses OpenGL and Cython to allow it to be fast on all platforms.'

    Slide:
        id: kv_1
        name: 'Kv'
        BoxLayout:
            orientation: 'vertical'
            padding: 20
            spacing: 20
            TitleLabel:
                text: 'The kv language'
                size_hint_y: 0.5

            SlideLabel:
                text: 'Kivy includes a design language analogous to html/css which abstracts away much of the complexity of layout and styling of a GUI.'
                size_hint_y: 1.5
                size_hint_x: 0.9

            BoxLayout:
                size_hint_y: 2
                orientation: 'horizontal'
                KivyCode:
                    id: kv_example_1
                    text: "Label:\n    text: 'Hello World!'\n    font_size: '60pt'"
                    on_focus: kv_1.toggle_keyboard(args[1])

                Container:
                    kv: kv_example_1.text

    Slide:
        id: kv_2
        name: 'Kv 2'
        BoxLayout:
            orientation: 'vertical'
            padding: 20
            spacing: 20

            TitleLabel:
                text: 'The kv language'

            SlideLabel:
                text: 'A widget hierarchy can be constructed in both kv and python:'

            BoxLayout:
                size_hint_y: 3
                spacing: 10
                KivyCode:
                    id: kv_example_2
                    size_hint_x: 0.9
                    text: "BoxLayout:\n    orientation: 'vertical'\n    Label:\n        text: 'A label'\n        font_size: '60pt'\n    Button:\n        text: 'Press me!'\n        font_size: '60pt'"
                    on_focus: kv_2.toggle_keyboard(args[1])
                CodeInput:
                    size_hint_x: 1.2
                    text: "box = BoxLayout(\n        orientation='vertical')\nlabel = Label(text='A label',\n        font_size='60pt')\nbutton = Button(text='Press me!',\n        font_size='60pt')\nbox.add_widget(label)\nbox.add_widget(button)"
                    on_focus: kv_2.toggle_keyboard(args[1])

                Container:
                    kv: kv_example_2.text

    Slide:
        id: kv_3
        name: 'Kv 3'
        BoxLayout:
            orientation: 'vertical'
            padding: 20
            spacing: 20

            TitleLabel:
                text: 'The kv language'

            SlideLabel:
                text: 'Widgets have a canvas property, which can be used to change the look of the widget:'

            BoxLayout:
                size_hint_y: 3
                KivyCode:
                    id: kv_example_3
                    size_hint_x: 0.6
                    text: "Label:\n\ttext: 'A label'\n\tfont_size: '60pt'\n\t#canvas:\n\t\t#Color:\n\t\t\t#rgb: 1, 0, 0\n\t\t#Rectangle:\n\t\t\t#pos: self.pos\n\t\t\t#size: self.size"
                    on_focus: kv_3.toggle_keyboard(args[1])

                Container:
                    kv: kv_example_3.text

    Slide:
        name: 'Close'
        BoxLayout:
            orientation: 'vertical'
            TitleLabel:
                text: 'The End!'
            SlideLabel:
                text: 'This talk is available on github:\ngithub.com/Ian-Foote/Kivy-Talk'
            SlideLabel:
                text: 'You can contact me by email at python@ian.feete.org'
            SlideLabel:
                text: 'I am also active on the Kivy irc channel: #kivy on freenode, with the name "Quartic".'
